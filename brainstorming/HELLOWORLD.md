# HELLO WORLD application

This document contains the desired format for an anuraOS Tadpole application. Demonstrations for component files and app info as well as the file structure they follow will be included.

## File Structure

The file structure for an anuraOS Tadpole application is as follows:

### File Structure | `./`

This is the root directory of the application. It contains the app manifest file, the main HTML file, and a directory for the source code.

```
.
├── index.html
├── tadpole-rt.js
├── block-rt.js
├── manifest.json
├── icon.*
└── src
    └── ...
```

### File Structure | `./index.html`

This is the main HTML file for the application. It contains the basic structure of the HTML document and includes the necessary scripts to load the application. This should not be exposed to the user, as it is a static file that is generated by the editor. The index.html file will simply load the `tadpole-rt.js` file, which will handle the loading of the application and the components.

### File Structure | `./tadpole-rt.js`

This file will contain the tadpole runtime, which is responsible for loading the application and the components. It reimports the manifest.json file and prepares the environment before loading the application. This bundle will contain the bulk of the project code, including the component registry and the component loader. The `tadpole-rt.js` file will be generated by the editor and should not be modified by the user.

### File Structure | `./block-rt.js`

This file will contain the blockly runtime, which is responsible for generating code from the visual programming blocks and registering them with the main runtime. This file will also contain the blockly workspace and the blockly toolbox. The `block-rt.js` file will be generated by the editor and should not be modified by the user.

### File Structure | `./manifest.json`

The main manifest responsible for registering this as an anuraOS application and controlling the runtime. See [App Manifest](#app-manifest) for more information.

### File Structure | `./icon.*`

This is the icon for the application. The image type is not significant but it should be a square image. The editor will manage the icon and it should only be changed through the editor ui, which will update the icon in the manifest.json as well.

### File Structure | `./src/`

This directory contains the source code for the application. It is where manual code will be written. Components are not intended to be written directly in this directory, but rather in the `./src/components/` directory.

```
src
├── components
│   └── ...
└── ...
```

### File Structure | `./src/components/`

This directory contains the components for the application. Each component should be in its own file and should follow the naming convention of `ComponentName.js`. The components should be written in JavaScript and should export a default function that returns a dreamland element. The components should also export a name variable that is used to register the component with the component registry. See [Components](#components) for more information.

```
components
├── HelloDescription.js
└── HelloPage.js
```

## Components

Components are the building blocks of an anuraOS Tadpole application, as well as the modern web. For the tadpole environment, we will be using the [dreamland](https://dreamland.js.org) framework to create components, which is the same framework that anuraOS uses. While the component system is identical to standard dreamland, we will be wrapping things with a custom module loader that will allow for a more seamless integration with visual programming components.

### Component | `./src/components/HelloDescription.js`

This component is a simple description of the application. It is a functional component that returns a paragraph element with some text.

```javascript
export const name = "HelloDescription";

export default function HelloDescription() {
  return (
    <div>
      <p>This is a simple hello world application for example purposes.</p>
    </div>
  );
}
```

### Component | `./src/components/HelloPage.js`

This component is the main page of the application. It imports the `HelloDescription` component and renders it inside a div element. The `HelloPage` component is the entry point for the application and will be specified in the app manifest.

```javascript
const HelloDescription = await getComponent("HelloDescription");

export const name = "HelloPage";

export default function HelloPage() {
  return (
    <div>
      <h1>Hello, World!</h1>
      <HelloDescription />
    </div>
  );
}
```

## App Manifest

The app manifest is a JSON file that contains metadata about the application. For anuraOS Tadpole applications, we will extend the base manifest format from anuraOS to include additional fields that are specific to the Tadpole environment. The manifest file should be named `manifest.json` and placed in the root directory of the application. Note that the manifest.json is not meant to be modified by the end user, but rather generated and managed by the editor. For example, things like `icon` and `index` can really break things if a confused user tries to change them.

### App Manifest | `./manifest.json`

For the hello world application, the manifest file will contain the app title, package name, entry point, and other metadata. The `x-anura.tadpole` field is specific to the Tadpole environment and contains information about the entry point component and whether visual blocks are enabled.

```json
{
  "name": "Hello World App",
  "type": "auto",
  "package": "anura.tadpole.johndoe.helloworld",
  "index": "tadpole.html",
  "icon": "icon.png",
  "wininfo": {
    "title": "Hello World App",
    "width": "800px",
    "height": "600px"
  },
  "x-anura.tadpole": {
    "entrypoint": "HelloPage",
    "blocks-enabled": false
  }
}
```
